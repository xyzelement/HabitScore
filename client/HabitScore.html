
<template name="layout">
  {{> navHeader}}

    <div class="container">
      <div class="row">
        <div class="col-md-4">
          {{yield}}
        </div>
        <div class="col-md-8">
          {{yield "right"}} 
        </div>        
      </div>
    </div>

</template>

 <template name="main">

  <ul class="nav nav-tabs">
    <li class="active"><a href="#profile" data-toggle="tab">Modify</a></li>
    <li><a href="#debug" data-toggle="tab">Debug</a></li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="profile">
      <div id="add-pane">
        {{> habitSelectionTemplate}}
      </div>
    </div>
    <div class="tab-pane" id="debug">
      {{> debug}}
    </div>
  </div>
</template>

<template name="habitSelectionTemplate">  
  <div class="list-group">
    <a href="#" class="list-group-item"><b>Modify</b></a>
    {{#each habits}}
      {{{habitButton this}}}
    {{/each}}
  </div>    
  <div class="list-group">
    <a href="#" class="list-group-item"><b>Add</b></a>
    <a href="#" class="list-group-item"><input type="text" id="add-habit" placeholder="New Habit" /></a>
  </div> 
</template>

<template name="edit">  
  
  <div class="form-horizontal" role="form" name="edit-form">
    <div class="list-group">
      <a class="list-group-item">
          <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Habit</label>
            <div class="col-sm-6">
              <input class="form-control" id="edit-habit" placeholder="Habit" value="{{selected.name}}">
            </div>
          </div>
      </a>
      <a class="list-group-item">
          <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Good Badge<br/></label>
            <div class="col-sm-6">
              {{{habit_checkbox selected "good"}}}      
              </br>
              <input type="email" class="form-control" id="edit-good-badge" placeholder="Good Badge" 
                value="{{selected.badges.good.name}}">
              When you do this 
              {{{days_selector "edit-good-days1" selected.badges.good.days1}}}
              out of the past
              {{{days_selector "edit-good-days2" selected.badges.good.days2}}}
              days.
            </div>
          </div>  

          <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Bad Badge<br/><small>Shames you when you lapse</small></label>
            <div class="col-sm-6">
              {{{habit_checkbox selected "bad"}}} 
              </br>              
              <input type="email" class="form-control" id="edit-bad-badge" placeholder="Bad Badge"
                value="{{selected.badges.bad.name}}">
              When you miss 
              {{{days_selector "edit-bad-days1" selected.badges.bad.days1}}}
              out of the past
              {{{days_selector "edit-bad-days2" selected.badges.bad.days2}}}
              days. 
            </div>
          </div>           
      </a>
    </div>
  </div>
  <a href="#" class="edit-save">Save</a>
</template>


<template name="today">    
  <div class="list-group">
      <a class="list-group-item"><b>Good Deeds Done</b></a>
      {{#each habits}}
        {{{habit this}}} 
      {{/each}}
  </div>
</template>


<template name="days">
  <div class="list-group">
    {{#each buttons}}
      {{{dayButton this}}}
    {{/each}}
  </div>      
</template>


<template name="debug">
      {{#each habits}}
        {{json this}}<br/>
      {{/each}}
      <a class="dropAll" href="#">Drop All</a>
</template>


<template name="navHeader">
    <nav class="navbar navbar-default" role="navigation">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Howmidoin?</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li class="{{TabClassName 'today'}}"><a href="/">Status</a></li>
            <li class="{{TabClassName 'add'}}"><a href="/add">Habits</a></li>
            <li class="{{TabClassName 'debug'}}"><a href="/debug">Debug</a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>  
</template>